<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:body>
	<ui:composition template="/META-INF/template/layout_curso.xhtml">
	
			<ui:define name="content"> 
				<div id="container">

					    <div id="middle">    
							<div id="middle_align">
					
					            <div id="wrapper" class="logado aluno">
					            
					            <h3 class="bread">CR<h:outputText value="#{matriculaEstudosDeCasoAlunoController.matricula.curso.id}"></h:outputText> > Estudos de Casos</h3>

								<br clear="all" />
					                <h:form prependId="false">
										<p:dataTable emptyMessage="Nenhum Registro Encontrado" id="tabelaEstudoCaso" var="estudocaso" paginator="true" 
											value="#{matriculaEstudosDeCasoAlunoController.listarEstudoDeCaso}">
											<p:column style="text-align: center;" sortBy="#{estudocaso.id}" >
												<f:facet name="header">
													<h:outputText value="Código" />
												</f:facet>
												<h:outputText value="EC#{estudocaso.id}" />
											</p:column>
											<p:column style="text-align: center;" sortBy="#{estudocaso.titulo}" >
												<f:facet name="header">
													<h:outputText value="Caso" />
												</f:facet>
												<h:outputText value="#{estudocaso.titulo}" />
											</p:column>
											<p:column style="text-align: center;" sortBy="#{estudocaso.descricaoResumida}" >
												<f:facet name="header">
													<h:outputText value="Descrição" />
												</f:facet>
												<h:outputText value="#{estudocaso.descricaoResumida}" escape="false" />
											</p:column>
											
											<p:column  style="text-align: center;"  sortBy="#{estudocaso.statusDescricao}" >
												<f:facet name="header">
													<h:outputText value="Status" />
												</f:facet>
												
												<h:graphicImage url="#{pageContext.request.contextPath}/resources/imagens/icons/Play-1-Normal-Red-icon.png" rendered="#{estudocaso.status == '0'}"></h:graphicImage>
												<h:graphicImage url="#{pageContext.request.contextPath}/resources/imagens/icons/Pause-Normal-Red-icon.png" rendered="#{estudocaso.status == '1'}"></h:graphicImage>
												<h:graphicImage url="#{pageContext.request.contextPath}/resources/imagens/icons/Play-1-Disabled-icon.png" rendered="#{estudocaso.status == '2'}"></h:graphicImage>
												<h:graphicImage url="#{pageContext.request.contextPath}/resources/imagens/icons/restrict.gif" rendered="#{estudocaso.status == '3'}"></h:graphicImage>
												<h:graphicImage url="#{pageContext.request.contextPath}/resources/imagens/icons/Actions-dialog-ok-apply-icon.png" rendered="#{estudocaso.status == '4'}"></h:graphicImage>
												
												<h:outputText value="#{estudocaso.statusDescricao}" />
											</p:column>
											<p:column style="text-align: center;">
												<f:facet name="header">
													<h:outputText value="Ações" />
												</f:facet>
												
												<p:commandButton  action="#{arcoMagueresController.preparaVisualizarArcoMagueres}" value="Abrir" icon="ui-icon ui-icon-folder-open">
													<f:setPropertyActionListener target="#{arcoMagueresController.matricula}" value="#{matriculaEstudosDeCasoAlunoController.matricula}" />
													<f:setPropertyActionListener target="#{arcoMagueresController.estudoDeCaso}" value="#{estudocaso}" />
												</p:commandButton>
												
											</p:column>
										</p:dataTable>
									</h:form>
									
					            </div><!-- /#wrapper -->
					
					    	</div><!-- /#middle_align -->
					    		<div style="width: 100%; height: 200px;"></div>
					    </div><!-- /#middle -->    
						</div><!-- /#container -->
			</ui:define> 

	</ui:composition>
</h:body>
</html>

